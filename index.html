<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSS PRACTICE</title>
    <link rel="stylesheet" href="css/main.css" type="text/css" />

    <!-- font awesome -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="mainHeader"></div>
    <div id="main-container">
      <div id="main-banner">
        <div>
          <b class="banner-bold">벌</b>써 찾았다<br />
          내 <b class="banner-bold">집</b>
        </div>
      </div>
      <div class="rollingbanner">
        <div class="wrap">
          <div class="roller">
            <ul>
              <li class="kapi">
                <img src="/img/test.jpg" alt="" />
              </li>
              <li class="kospi">
                <img src="/img/test2.jpg" alt="" />
              </li>
              <li class="kapi">
                <img src="/img/test.jpg" alt="" />
              </li>
              <li class="kospi">
                <img src="/img/test2.jpg" alt="" />
              </li>
              <li class="kapi">
                <img src="/img/test.jpg" alt="" />
              </li>
              <li class="kospi">
                <img src="/img/test2.jpg" alt="" />
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div id="infinite-scroll-container">
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">1</div>
          <div class="infinite-scroll-item sa-up">1</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">2</div>
          <div class="infinite-scroll-item sa-up">3</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">3</div>
          <div class="infinite-scroll-item sa-up">3</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">4</div>
          <div class="infinite-scroll-item sa-up">4</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">5</div>
          <div class="infinite-scroll-item sa-up">5</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">6</div>
          <div class="infinite-scroll-item sa-up">6</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">7</div>
          <div class="infinite-scroll-item sa-up">7</div>
        </section>
        <section class="infinite-scroll-section">
          <div class="infinite-scroll-item sa-up">8</div>
          <div class="infinite-scroll-item sa-up">8</div>
        </section>
      </div>
    </div>
  </body>

  <script>
    $(document).ready(function () {
      $('#mainHeader').load('/header.html');
    });

    //무한 롤링 배너
    window.addEventListener('DOMContentLoaded', function () {
      let roller = document.querySelector('.roller');
      roller.id = 'roller1';

      let clone = roller.cloneNode(true);
      clone.id = 'roller2';
      document.querySelector('.wrap').appendChild(clone);

      document.querySelector('#roller1').style.left = '0px';
      document.querySelector('#roller2').style.left =
        document.querySelector('.roller ul').offsetWidth + 'px';

      roller.classList.add('original');
      clone.classList.add('clone');
    });

    //무한 스크롤
    const saTriggerMargin = 50;
    const saElementList = document.querySelectorAll('.infinite-scroll-item');

    const saFunc = function () {
      for (const element of saElementList) {
        if (!element.classList.contains('show')) {
          if (window.innerHeight > element.getBoundingClientRect().top + saTriggerMargin) {
            element.classList.add('show');
          }
        }
      }
    };

    window.addEventListener('load', saFunc);
    window.addEventListener('scroll', saFunc);
  </script>
</html>
